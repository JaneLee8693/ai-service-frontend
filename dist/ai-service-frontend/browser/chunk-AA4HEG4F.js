import{a as T,b as N,c as V,d as k}from"./chunk-3GWWZMAG.js";import{a as A}from"./chunk-M22ORLB2.js";import{$a as w,Ab as O,Ba as v,Fa as s,Ma as d,Oa as o,Pa as n,Ra as b,Sa as I,Ta as h,Ua as C,Va as c,Wa as y,X as u,Xa as a,Y as g,Ya as f,Za as x,_a as S,ab as E,bb as F,fb as R,sa as i,wa as _,xb as M,yb as D}from"./chunk-7GLGVXCR.js";function L(e,r){if(e&1&&(b(0),o(1,"div",8)(2,"span",9),a(3),n()(),o(4,"div",10),a(5,"AI Order Recommendation"),n(),I()),e&2){let t=c();i(3),x("Hello \u{1F44B} ",t.username,"")}}function P(e,r){e&1&&(o(0,"div",10),a(1,"AI Order Recommendation"),n())}function j(e,r){if(e&1&&(o(0,"div",11),a(1),n()),e&2){let t=c();i(),f(t.error)}}function q(e,r){if(e&1&&(o(0,"li",16)(1,"div",17),a(2),n(),o(3,"div",18),a(4),n()()),e&2){let t=r.$implicit;i(2),S("",t.item," \xD7",t.quantity,""),i(2),f(t.notes)}}function G(e,r){if(e&1&&(o(0,"div",12)(1,"h3",13),a(2,"Recommended Items:"),n(),o(3,"ul",14),s(4,q,5,3,"li",15),n()()),e&2){let t=c();i(4),d("ngForOf",t.recommendations)}}var W=class e{constructor(r){this.orderService=r}userInput="";recommendations=[];loading=!1;error=null;get username(){return localStorage.getItem("username")||""}get uuid(){return localStorage.getItem("uuid")||""}submit(){this.userInput.trim()&&(this.loading=!0,this.error=null,this.orderService.getRecommendations(this.userInput,this.username,this.uuid).subscribe({next:r=>{this.recommendations=r.data||[],this.loading=!1},error:()=>{this.error="Failed to fetch recommendations.",this.loading=!1}}))}static \u0275fac=function(t){return new(t||e)(_(A))};static \u0275cmp=v({type:e,selectors:[["app-recommendation-form"]],decls:10,vars:7,consts:[["plainRec",""],[1,"max-w-2xl","mx-auto","bg-white","shadow-lg","rounded-xl","p-6","mt-8"],[1,"text-3xl","font-bold","mb-1"],[4,"ngIf","ngIfElse"],["rows","4","placeholder","e.g. I want something sweet and cold",1,"w-full","border","border-gray-300","rounded-lg","p-3","text-sm","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-[#F4A261]",3,"ngModelChange","ngModel"],[1,"mt-4","bg-[#E63946]","text-white","font-bold","px-6","py-2","rounded-lg","shadow-md","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-red-500","transition","disabled:opacity-50",3,"click","disabled"],["class","text-red-500 mt-2 text-sm",4,"ngIf"],["class","mt-6",4,"ngIf"],[1,"text-black"],[1,"text-[#e0b84a]"],[1,"text-[#E63946]"],[1,"text-red-500","mt-2","text-sm"],[1,"mt-6"],[1,"text-lg","font-semibold","mb-2","text-gray-800"],[1,"text-gray-800"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"font-bold"],[1,"bg-gray-100","text-sm","p-2","rounded","border","border-gray-300","mt-1"]],template:function(t,m){if(t&1){let l=h();o(0,"div",1)(1,"h2",2),s(2,L,6,1,"ng-container",3)(3,P,2,0,"ng-template",null,0,R),n(),o(5,"textarea",4),F("ngModelChange",function(p){return u(l),E(m.userInput,p)||(m.userInput=p),g(p)}),n(),o(6,"button",5),C("click",function(){return u(l),g(m.submit())}),a(7),n(),s(8,j,2,1,"div",6)(9,G,5,1,"div",7),n()}if(t&2){let l=y(4);i(2),d("ngIf",m.username)("ngIfElse",l),i(3),w("ngModel",m.userInput),i(),d("disabled",m.loading),i(),x(" ",m.loading?"Loading...":"Get Recommendation"," "),i(),d("ngIf",m.error),i(),d("ngIf",m.recommendations.length>0)}},dependencies:[O,M,D,k,T,N,V],encapsulation:2})};export{W as RecommendationFormComponent};
