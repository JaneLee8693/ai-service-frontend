<div class="max-w-2xl mx-auto bg-white shadow-lg rounded-xl p-6 mt-8">
  <h2 class="text-3xl font-bold mb-1">
    <ng-container *ngIf="username; else plainRec">
      <div class="text-black">
        <span class="text-[#e0b84a]">Hello ðŸ‘‹ {{ username }}</span>
      </div>
      <div class="text-[#E63946]">AI Order Recommendation</div>
    </ng-container>
    <ng-template #plainRec>
      <div class="text-[#E63946]">AI Order Recommendation</div>
    </ng-template>
  </h2>

  <textarea
    [(ngModel)]="userInput"
    rows="4"
    class="w-full border border-gray-300 rounded-lg p-3 text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#F4A261]"
    placeholder="e.g. I want something sweet and cold"
  ></textarea>

  <button
    (click)="submit()"
    class="mt-4 bg-[#E63946] text-white font-bold px-6 py-2 rounded-lg shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition disabled:opacity-50"
    [disabled]="loading"
  >
    {{ loading ? 'Loading...' : 'Get Recommendation' }}
  </button>

  <div *ngIf="error" class="text-red-500 mt-2 text-sm">{{ error }}</div>

  <div *ngIf="recommendations.length > 0" class="mt-6">
    <h3 class="text-lg font-semibold mb-2 text-gray-800">Recommended Items:</h3>
    <ul class="text-gray-800">
      <li *ngFor="let item of recommendations" class="mb-3">
        <div class="font-bold">{{ item.item }} Ã—{{ item.quantity }}</div>
        <div class="bg-gray-100 text-sm p-2 rounded border border-gray-300 mt-1">{{ item.notes }}</div>
      </li>
    </ul>
  </div>
</div>
